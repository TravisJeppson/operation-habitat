# Distrobox declarative configuration
# Usage: distrobox-assemble create --file distrobox-assemble.yaml

[devenv]
# Use our custom-built image
image=localhost/devenv-arch:latest

# Pull policy (never = use local only, since we build it)
pull=false

# Replace existing container if it exists
replace=true

# Start container after creation
start_now=true

# Run init system inside container
init=false

# Additional packages to install on creation (via pacman)
# Keep minimal - prefer Devbox for dev tools
additional_packages=fish

# Custom home directory (optional - defaults to host $HOME)
# home=/home/myuser

# Additional volumes to mount
# volume=/path/on/host:/path/in/container:rw

# Environment variables
# exported_vars=VAR_NAME=value

# Init hooks - run commands on container start
init_hooks=echo 'eval "$(devbox global shellenv)"' >> /etc/profile.d/devbox.sh

# Pre-init hooks - run before init (install Devbox if not present)
pre_init_hooks=command -v devbox &> /dev/null || (echo "Installing Devbox..." && curl -fsSL https://get.jetify.com/devbox | bash -s -- -f)
